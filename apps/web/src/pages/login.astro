---
import LoginForm from '../components/LoginForm.svelte';
import Layout from '../layouts/Layout.astro';

// Use requireAuth to handle auth check and redirection
---

<Layout requireAuth>
  <div class="min-h-screen hero bg-base-200">
    <div class="hero-content flex-col">
      <div class="text-center mb-8">
        <h1 class="text-5xl font-bold">Welcome Back!</h1>
        <p class="py-6 text-base-content/60">Sign in to access your admin dashboard</p>
      </div>

      <LoginForm client:load />
    </div>
  </div>
</Layout>

<script>
  import { initAuthCheck } from '../lib/auth-check';
  initAuthCheck(window.location.pathname);
</script>
